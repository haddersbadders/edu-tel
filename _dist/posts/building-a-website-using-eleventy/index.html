<!doctype html><html><head><title>Building a website using Eleventy | TEL@Education</title><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet"><style>body,h1,h2,h3,h4,h5,h6 {font-family: "Raleway", sans-serif}</style><link rel="stylesheet" href="/css/custom.css"></head><body><nav class="w3-sidebar w3-collapse w3-black" style="z-index:3;width:300px;" id="mySidebar"><br><div class="w3-container"><a href="#" onclick="w3_close()" class="w3-hide-large w3-right w3-large w3-padding w3-hover-sand" title="close menu"><i class="fa fa-remove"></i></a></div><div class="w3-container brand w3-border-bottom w3-border-grey"><a href="https://edu-tel.netlify.app" class="w3-black"><h1>TEL@Education</h1></a><p>Technology Enhanced Learning at the School of Education</p></div><div class="w3-bar-block"><a href="/" onclick="w3_close()" class="w3-bar-item w3-button w3-padding w3-text-white w3-button w3-hover-sand"><i class="fa fa-home fa-2x"></i>&nbsp; Home</a> <a href="/privacy/" class="w3-bar-item w3-button w3-padding w3-text-white w3-button w3-hover-sand"><i class="fa fa-user-secret fa-2x"></i>&nbsp; Site Privacy</a> <a href="https://github.com/haddersbadders" class="w3-bar-item w3-button w3-padding w3-text-white w3-hover-sand"><i class="fa fa-github fa-2x"></i>&nbsp; Github</a> <a href="https://www.linkedin.com/in/hadrian-cawthorne-a57336254/" class="w3-bar-item w3-button w3-padding w3-text-white w3-button w3-hover-sand"><i class="fa fa-linkedin-square fa-2x"></i> &nbsp;LinkedIn</a></div></nav><div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div><div class="w3-main" style="margin-left:300px"><div><span class="w3-button w3-hide-large w3-xxlarge w3-hover-text-grey" onclick="w3_open()"><i class="fa fa-bars"></i></span></div><article class="w3-container"><style>.bg {
  background: url(/images/voxel-website.png) no-repeat center center/cover;
  background-color: #474747';
  background-blend-mode: hard-light;
  height: 50vh;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 -16px;
  position: relative;
      background-attachment: fixed;
}

header h1 {
  text-align: center;
  color: white;
  text-shadow: 2px 2px 4px #000000;
  /* line-height: 20rem; */
  font-size: 4em;
  position:relative;
  z-index: 2;
}</style><header class="w3-container bg"><div class="overlay"></div><h1>Building a website using Eleventy</h1></header><main><p>This post builds on my previous <a href="/posts/making-a-basic-static-site-using-eleventy">tutorial about making a very basic page using Eleventy</a>.</p><p>To recap, in the basic tutorial we:</p><ul><li>Created a project directory</li><li>Created an <code>eleventy.config.js</code> file, specifying the input and output directories</li><li>Initialised the project with npx to create a <code>package.json</code> file</li><li>Created the <strong>_src</strong> input directory to write our code in</li><li>Installed Eleventy</li><li>Created a homepage <code>index.md</code></li><li>Built the site</li><li>Start the server with <code>npx eleventy --serve</code></li></ul><p>To extend this, I'll cover:</p><ul><li>Adding additional directories for template files, images, CSS, data etc</li><li>Passthrough, for static files like images and CSS that don't need processing</li><li>Setting up a script to start the server</li><li>Defining Nunjucks as the templating engine</li><li>Adding site data</li><li>Front Matter</li><li>Defining and building layouts</li></ul><h2 id="more-directories">More directories</h2><p>In the <strong>_src</strong> folder, the create directories:</p><pre class="language-tree"><code class="language-tree">_src
├── images
├── _includes
      ├── layouts
      ├── partials
├── data
├── css
├── js
├── pages
</code></pre><p>Directories images, css, js and pages are self-explanitary!</p><p>The <code>_includes</code> directory contains all the files that we will use to build the site; think of these as all the template files.</p><p>The <code>data</code> directory, is where we will add data.</p><h2 id="passthrough">Passthrough</h2><p>Now, Eleventy will automatically build the site from files within the includes and data directories, but won't touch the images, css and js. For this we need to set up <strong>passthrough</strong> so that Eleventy just copies anything in these directories to the corresponding output directories.</p><p>Edit <code>eleventy.config.js</code> and add the following to the eleventyConfig function:</p><pre class="language-js"><code class="language-js">  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPassthroughCopy</span><span class="token punctuation">(</span><span class="token string">"./_src/images"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPassthroughCopy</span><span class="token punctuation">(</span><span class="token string">"./_src/js/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPassthroughCopy</span><span class="token punctuation">(</span><span class="token string">"./_src/css/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>So that it looks like this:</p><pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">eleventyConfig</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPassthroughCopy</span><span class="token punctuation">(</span><span class="token string">"./_src/images"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPassthroughCopy</span><span class="token punctuation">(</span><span class="token string">"./_src/js/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPassthroughCopy</span><span class="token punctuation">(</span><span class="token string">"./_src/css/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">"_src"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token string">"_dist"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="setting-up-a-script">Setting up a script</h2><p>This is optional, but if you want a shorter way to start the server than <code>npx eleventy --serve</code> you can set up a script in your <code>package.json</code> file.</p><p>In the <strong>scripts</strong> section you will see this:</p><pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p>Replace it with:</p><pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"npx eleventy --serve"</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p>Now, every time you want to start the server, just use:</p><pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> start</code></pre><h2 id="templating-with-nunjucks">Templating with Nunjucks</h2><p>Eleventy uses <a href="https://mozilla.github.io/nunjucks/">the Nunjucks templating language</a>.</p><p>This needs to be set up in <code>eleveny.config.js</code> so that we can use html and markdown files.</p><p>in <code>eleventy.config.js</code> after <code>return {</code> add in:</p><pre class="language-js"><code class="language-js"><span class="token literal-property property">markdownTemplateEngine</span><span class="token operator">:</span> <span class="token string">'njk'</span><span class="token punctuation">,</span>
<span class="token literal-property property">dataTemplateEngine</span><span class="token operator">:</span> <span class="token string">'njk'</span><span class="token punctuation">,</span>
<span class="token literal-property property">htmlTemplateEngine</span><span class="token operator">:</span> <span class="token string">'njk'</span><span class="token punctuation">,</span></code></pre><p>So you now have:</p><pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">eleventyConfig</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPassthroughCopy</span><span class="token punctuation">(</span><span class="token string">"./_src/images"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPassthroughCopy</span><span class="token punctuation">(</span><span class="token string">"./_src/js/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPassthroughCopy</span><span class="token punctuation">(</span><span class="token string">"./_src/css/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">markdownTemplateEngine</span><span class="token operator">:</span> <span class="token string">'njk'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">dataTemplateEngine</span><span class="token operator">:</span> <span class="token string">'njk'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">htmlTemplateEngine</span><span class="token operator">:</span> <span class="token string">'njk'</span><span class="token punctuation">,</span>
	
    <span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">"_src"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token string">"_dist"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="basic-data">Basic data</h2><p>Create the file <code>_src/_data/site.json</code>. We can define some basic data for the whole site here. Add in:</p><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"My Most Excellent Website"</span>
<span class="token punctuation">}</span></code></pre><h3 id="front-matter">Front Matter</h3><p>We can now start to add some structure to our web pages and use some HTML.</p><p>Before we do that, we need to look at <strong>front matter</strong> which is where we can add in the properties of page (a piece of content), including specifying which template files it should use to build itself.</p><p>Edit the file <code>_src/index.md</code> so that it looks like this:</p><pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">title: 'My not-so basic website'
layout: 'layouts/home.html'</span>
<span class="token punctuation">---</span></span>

<span class="token title important"><span class="token punctuation">##</span> Things are getting a little more advanced. </span>

This is the homepage.</code></pre><p>The stuff at the top between the --- lines is the <strong>front matter</strong> and sets out the properties of the document:</p><ul><li><strong>title</strong>: this is the title of the page</li><li><strong>layout</strong>: this defines the HTML file will be used to build the page</li></ul><p>We can put more stuff in here, like date, author, tags, and even specifying the path and alt description for a featured image. But we will leave this for now.</p><h2 id="building-layouts">Building layouts</h2><p>So far our site consists of a markdown file, but there's no HTML or CSS to define the design or structure. There's no style, header, menu, content, footer etc.</p><p>Our <strong>layout</strong> files will do this job for us. The layout files are HTML files that contain everything you'd expect in an HTML file, and they essentially &quot;wrap around&quot; our content.</p><p>For flexibility and ease, the layout files can be broken up into fragments and pieced together (included) on when Eleventy builds our site E.g. we might have the navigation inside a file called <code>nav.njk</code>, the footer in <code>footer.njk</code> and the content of the homepage inside <code>home.html</code>.</p><p>We can also have different layouts for different kinds of pages e.g. if we wanted to do simething different with the homepage than with the post pages, we just use a different layout.</p><p>After adding your front matter to <code>index.md</code>, if your server is running, you will notice an error after saving your md file, telling your that <code>layouts/home.html</code> doesn't exist. So, let's create it.</p><p>Create and edit the file <code>_src/_includes/layouts/home.html</code> and add in:</p><pre class="language-liquid"><code class="language-liquid"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> extends <span class="token string">"layouts/base.html"</span> <span class="token delimiter punctuation">%}</span></span> 

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token object">block</span> content <span class="token delimiter punctuation">%}</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span><span class="token punctuation">></span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> content <span class="token operator">|</span> <span class="token function filter">safe</span> <span class="token delimiter punctuation">}}</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> endblock <span class="token delimiter punctuation">%}</span></span></code></pre><ul><li><strong>extends &quot;layouts/base.html&quot;</strong> means that <code>home.html</code> gets <code>base.html</code> wrapped around it</li><li>the <strong>block content</strong> specifies where <code>base.html</code> gets wrapped around <code>index.md</code></li></ul><p>The <code>home.html</code> file isn't a full HTML page, but just a bit of one: it's the bit that will display the <em>contents</em> of the homepage. It won't conatin the base HTML or the header, navigation or footer.</p><p>Also create the file <code>_src/_includes/layouts/base.html</code>.</p><p>We can work on Base:</p><pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>{{ title }} | {{ site.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>

    {% include "partials/nav.njk" %}

    {% block content %}{% endblock %}
 
    {% include 'partials/footer.njk' %}

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>Let's look at the weird stuff in curly brackets:</p><ul><li><p><strong>title</strong>: This will display the title defined in the <strong>front matter</strong> of the markdown page</p></li><li><p><strong><a href="http://site.name">site.name</a></strong>: this is extracting and displaying data from the json file <code>data/site.json</code>, so the site's name &quot;My Most Excellent Website&quot;</p></li><li><p><strong>include &quot;partials/nav.njk&quot;</strong>: is going to place the html in the yet-to-be-created file nav.njk (we can use either html or njk files)</p></li><li><p><strong>block content</strong>: ultimately, is going to place the content from the page we are viewing, <code>index.md</code>, which in turn references <code>home.html</code></p></li><li><p><strong>include 'partials/footer.njk'</strong>: is going to place the html in the yet-to-be-created file footer.njk</p></li></ul><p>With <strong>partials</strong> we can split the html code into more managable chunks.</p><p>You'll notice that the site isn't quite working yet and you'll be getting errors if trying to serve. Just create all the referenced files e.g.</p><ul><li><code>_includes/partials/nav.njk</code></li><li><code>_includes/partials/footer.njk</code></li></ul><p>In <code>nav.njk</code>:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">></span></span>
Here's the Navigation
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span></code></pre><p>In <code>footer.njk</code>:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span>
Here's the footer
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span></code></pre><p>You now have the building blocks of a basic page.</p><p>Looking at the elements in Dev tools, you will see the structure as laid out in all the layout and partials files:</p><p><img src="/images/basic_site.png" alt="screenshot of the basic website showing dev tools and structure"></p><h2 id="adding-design-with-css">Adding design with CSS</h2><p>For this section, we are going to connect the <a href="https://www.w3schools.com/w3css/default.asp">W3.CSS framework</a> as it's quite a simple CSS framework to use.</p><p>All we need to do is link to the W3CSS CSS in the head of our HTML. In <code>base.html</code>, add this to <code>head</code>:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.w3schools.com/w3css/4/w3.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre><p><code>head</code> should now look like this:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Building a website using Eleventy | TEL@Education<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.w3schools.com/w3css/4/w3.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></code></pre><p>You should now see the font has changed in your basic page.</p><p>Let's also create a custom CSS file that we can add our own styles to if needed.</p><p>Create a new file <code>custom.css</code> inside the directory <code>_src/css</code>. Then link that also in <code>head</code> after the w3.css:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ '/css/custom.css' | url }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre></main></article><footer class="w3-white w3-center w3-padding-24 w3-margin-top w3-border-top"><div class="w3-row-padding"><small>This site is maintained by <a href="https://github.com/haddersbadders">Hadrian Cawthorne</a>.<br>Check out the <a href="https://github.com/haddersbadders/edu-tel">GitHub repo</a>. Eleventy V2.0.1</small><br><a href="https://www.sheffield.ac.uk/education/people/professional/hadrian-cawthorne" class=""><img src="/images/UOSLogo_Primary_White_RGB.png" style="max-width: 200px; background:black; padding: 12px; margin-top:12px;" alt="University of Sheffield logo"><br>Hadrian at The University of Sheffield</a></div></footer></div><script src="/js/index.js"></script></body></html>